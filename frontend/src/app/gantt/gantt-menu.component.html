<nav class="gantt-menu" role="toolbar" aria-label="Gantt-Steuerung">
  <div class="gantt-menu__info" aria-live="polite">
    <mat-icon fontIcon="calendar_today"></mat-icon>
    <span>{{ viewRangeLabel }}</span>
  </div>

  <div class="gantt-menu__filters">
    <mat-form-field appearance="outline" class="gantt-menu__search">
      <mat-label>Ressourcen filtern</mat-label>
      <mat-icon matPrefix>search</mat-icon>
      <input
        matInput
        type="search"
        [ngModel]="filterText"
        (ngModelChange)="onFilterChange($event)"
        placeholder="z. B. Depot, Name, ID"
        aria-label="Ressourcen filtern"
      />
    </mat-form-field>
  </div>

  <div class="gantt-menu__actions">
    <button mat-icon-button type="button" aria-label="Zoom aus" (click)="zoomOut.emit()">
      <mat-icon fontIcon="remove"></mat-icon>
    </button>

    <button mat-icon-button type="button" aria-label="Zoom ein" (click)="zoomIn.emit()">
      <mat-icon fontIcon="add"></mat-icon>
    </button>

    <span class="gantt-menu__zoom-label" aria-live="polite">{{ zoomLabel }}</span>

    <button mat-icon-button type="button" aria-label="Heute" (click)="gotoToday.emit()">
      <mat-icon fontIcon="today"></mat-icon>
    </button>

    <button mat-icon-button type="button" aria-label="Datum wählen" [matMenuTriggerFor]="dateMenu">
      <mat-icon fontIcon="event"></mat-icon>
    </button>

    <button
      mat-icon-button
      type="button"
      aria-label="Markierungsmodus"
      title="Markierungsmodus (M / Strg halten)"
      [class.gantt-menu__mode-button--active]="markingMode"
      (click)="toggleMarkingMode()"
    >
      <mat-icon [fontIcon]="markingMode ? 'select_all' : 'crop_free'"></mat-icon>
    </button>

    <button
      mat-icon-button
      type="button"
      aria-label="Shortcuts"
      title="Shortcuts"
      [matMenuTriggerFor]="shortcutsMenu"
    >
      <mat-icon fontIcon="keyboard"></mat-icon>
    </button>

    <span class="gantt-menu__extra-actions">
      <ng-content></ng-content>
    </span>
  </div>

  <mat-menu #dateMenu="matMenu">
    <mat-calendar (selectedChange)="onDatePicked($event)" [selected]="today"></mat-calendar>
  </mat-menu>

  <mat-menu #shortcutsMenu="matMenu" class="gantt-shortcuts-menu" xPosition="before" yPosition="below">
    <div class="gantt-shortcuts" (click)="$event.stopPropagation()">
      <div class="gantt-shortcuts__title">Shortcuts</div>
      <div class="gantt-shortcuts__row">
        <span class="gantt-shortcuts__keys"><kbd>M</kbd></span>
        <span class="gantt-shortcuts__desc">Markierungsmodus umschalten</span>
      </div>
      <div class="gantt-shortcuts__row">
        <span class="gantt-shortcuts__keys"><kbd>Strg</kbd></span>
        <span class="gantt-shortcuts__desc">Modus temporär umschalten (halten)</span>
      </div>
      <div class="gantt-shortcuts__row">
        <span class="gantt-shortcuts__keys"><kbd>Shift</kbd> + Drag</span>
        <span class="gantt-shortcuts__desc">Auswahl hinzufügen (Lasso)</span>
      </div>
      <div class="gantt-shortcuts__row">
        <span class="gantt-shortcuts__keys"><kbd>Shift</kbd>/<kbd>Strg</kbd> + Klick</span>
        <span class="gantt-shortcuts__desc">Mehrfachauswahl (Aktivität)</span>
      </div>
      <div class="gantt-shortcuts__row">
        <span class="gantt-shortcuts__keys"><kbd>H</kbd></span>
        <span class="gantt-shortcuts__desc">Heute</span>
      </div>
      <div class="gantt-shortcuts__row">
        <span class="gantt-shortcuts__keys"><kbd>+</kbd>/<kbd>-</kbd></span>
        <span class="gantt-shortcuts__desc">Zoom</span>
      </div>
      <div class="gantt-shortcuts__row">
        <span class="gantt-shortcuts__keys"><kbd>Entf</kbd></span>
        <span class="gantt-shortcuts__desc">Auswahl löschen</span>
      </div>
    </div>
  </mat-menu>
</nav>
