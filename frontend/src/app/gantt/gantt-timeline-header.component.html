<div class="gantt-header" role="row">
  <div class="gantt-header__groups" [style.width.px]="contentWidth">
    @for (group of groupedTicks(); track $index) {
      <div
        class="gantt-header__group"
        [style.left.px]="group.leftPx"
        [style.width.px]="group.widthPx"
      >
        <span class="gantt-header__group-label">{{ group.label }}</span>
      </div>
    }
  </div>

  <div class="gantt-header__canvas" [style.width.px]="contentWidth">
    <div class="gantt-header__periods">
      @for (period of periodVisuals(); track period.id) {
        <div
          class="gantt-header__period"
          [style.left.px]="period.offsetPx"
          [style.width.px]="period.widthPx"
          [style.background]="period.color"
          [attr.title]="period.label"
        ></div>
      }
    </div>
    @for (tick of ticks; track tick.time.getTime()) {
      <div
        class="gantt-header__tick"
        role="columnheader"
        [class.gantt-header__tick--major]="tick.isMajor"
        [class.gantt-header__tick--weekend]="tick.isWeekend"
        [class.gantt-header__tick--now]="tick.isNow"
        [style.left.px]="tick.offsetPx"
        [style.width.px]="tick.widthPx"
      >
        <span class="gantt-header__label">
          {{ tick.minorLabel ?? tick.label }}
        </span>
      </div>
    }
  </div>
</div>
